# 庫存預警系統用戶操作指南

## 概述

本指南旨在幫助管理員和倉庫管理人員使用庫存預警系統，有效監控商品庫存水平，及時處理庫存不足的情況，避免因缺貨導致的銷售損失和客戶體驗下降。

## 功能總覽

庫存預警系統提供以下核心功能：

1. 自動監控商品庫存水平
2. 當庫存低於預設閾值時生成預警
3. 查看和管理預警（解決、忽略）
4. 設定和調整低庫存閾值
5. 定期掃描所有商品庫存
6. 支援主商品和變體商品的獨立庫存監控
7. 按嚴重程度分級的預警系統

## 預警類型與嚴重程度

### 預警類型

系統目前支援以下預警類型：

- **低庫存預警 (LowStock)**：當商品庫存低於設定閾值但尚未售罄時觸發
- **缺貨預警 (OutOfStock)**：當商品庫存為零時觸發
- **庫存不一致預警 (InventoryDiscrepancy)**：當系統檢測到庫存記錄不一致時觸發

### 嚴重程度

預警按嚴重程度分為四級：

- **低 (Low)**：庫存接近閾值，需要關注
- **中 (Medium)**：庫存低於閾值的一半，應儘快處理
- **高 (High)**：商品已缺貨或庫存極低，需要立即處理
- **緊急 (Critical)**：特殊情況下的緊急預警，最高優先級

## 使用指南

### 1. 設定低庫存閾值

每個商品或變體都可以設定自己的低庫存閾值，當庫存數量低於此閾值時，系統將生成預警。

#### 設定步驟：

1. 進入商品管理頁面
2. 選擇需要設定閾值的商品
3. 點擊「設定庫存閾值」按鈕
4. 輸入閾值數量（例如：當庫存低於 10 件時發出預警）
5. 點擊「保存」按鈕

> **注意**：對於變體商品，可以為每個變體單獨設定閾值。這對於不同顏色、尺寸或款式有不同銷售速度的商品特別有用。

#### 閾值設定建議：

| 商品類型 | 建議閾值範圍 | 考慮因素 |
|---------|------------|---------|
| 熱銷商品 | 較高 (15-30) | 銷售速度快，需要更多緩衝 |
| 一般商品 | 中等 (5-15) | 平衡庫存成本和缺貨風險 |
| 低流量商品 | 較低 (3-5) | 降低庫存成本 |
| 季節性商品 | 動態調整 | 在旺季前提高閾值 |

#### API 使用方式：

```http
PUT /api/inventory/alerts/threshold/{productId}
Content-Type: application/json

{
  "threshold": 10
}
```
